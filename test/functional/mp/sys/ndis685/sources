TARGETNAME=xdpfnmp
TARGETTYPE=DRIVER
TARGET_DESTINATION=xdp\test\functional

NT_SIGNCODE=1
TEST_CODE=1

C_DEFINES=\
    $(C_DEFINES) \
    -DNDIS_MINIPORT_DRIVER \
    -DNDIS685_MINIPORT=1 \

MSC_WARNING_LEVEL=/W4

TARGETLIBS=\
    $(ONECORE_EXTERNAL_DDK_LIB_PATH)\ndis.lib \
    $(ONECORE_EXTERNAL_DDK_LIB_PATH)\netio.lib \
    $(XDP_OBJ_ROOT)\lib\nmr\$(O)\xdpnmr.lib \
    $(XDP_OBJ_ROOT)\test\functional\mp\sys\generic\$(O)\xdpfnmpgeneric.lib \
    $(XDP_OBJ_ROOT)\test\functional\mp\sys\native\$(O)\xdpfnmpnative.lib \

INCLUDES=\
    $(XDP_ROOT)\lib\rtl\inc; \
    $(XDP_ROOT)\test\functional\mp\inc; \
    $(XDP_ROOT)\test\functional\mp\sys; \
    $(XDP_ROOT)\test\functional\mp\sys\generic\inc; \
    $(XDP_ROOT)\test\functional\mp\sys\native\inc; \
    $(ONECORE_EXTERNAL_DDK_INC_PATH); \
    $(XDP_DDK_INC); \

SOURCES=\
    ..\dispatch.c \
    ..\bounce.c \
    ..\ioctlbounce.c \
    ..\miniport.c \
    ..\oid.c \
    ..\rss.c \
    ..\xdpfnmp.rc \

PASS_INDEPENDENT_BINPLACE=\
    ..\xdpfnmp.ps1 \
